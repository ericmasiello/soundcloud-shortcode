!function(){{var a=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent);window.soundcloud={version:"0.1",debug:!1,_listeners:[],_redispatch:function(a,b,c){var d,e=this._listeners[a]||[],f="soundcloud:"+a;try{d=this.getPlayer(b)}catch(g){return void(this.debug&&window.console&&console.error("unable to dispatch widget event "+a+" for the widget id "+b,c,g))}window.jQuery?jQuery(d).trigger(f,[c]):window.Prototype&&$(d).fire(f,c);for(var h=0,i=e.length;i>h;h+=1)e[h].apply(d,[d,c]);this.debug&&window.console&&console.log(f,a,b,c)},addEventListener:function(a,b){this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push(b)},removeEventListener:function(a,b){for(var c=this._listeners[a]||[],d=0,e=c.length;e>d;d+=1)c[d]===b&&c.splice(d,1)},getPlayer:function(b){var c;try{if(!b)throw"The SoundCloud Widget DOM object needs an id atribute, please refer to SoundCloud Widget API documentation.";if(c=a?window[b]:document[b]){if(c.api_getFlashId)return c;throw"The SoundCloud Widget External Interface is not accessible. Check that allowscriptaccess is set to 'always' in embed code"}throw"The SoundCloud Widget with an id "+b+" couldn't be found"}catch(d){throw console&&console.error&&console.error(d),d}},onPlayerReady:function(a,b){this._redispatch("onPlayerReady",a,b)},onMediaStart:function(a,b){this._redispatch("onMediaStart",a,b)},onMediaEnd:function(a,b){this._redispatch("onMediaEnd",a,b)},onMediaPlay:function(a,b){this._redispatch("onMediaPlay",a,b)},onMediaPause:function(a,b){this._redispatch("onMediaPause",a,b)},onMediaBuffering:function(a,b){this._redispatch("onMediaBuffering",a,b)},onMediaSeek:function(a,b){this._redispatch("onMediaSeek",a,b)},onMediaDoneBuffering:function(a,b){this._redispatch("onMediaDoneBuffering",a,b)},onPlayerError:function(a,b){this._redispatch("onPlayerError",a,b)}}}}(),function(a){var b,c,d,e=function(a){var b=function(a){return{h:Math.floor(a/36e5),m:Math.floor(a/6e4%60),s:Math.floor(a/1e3%60)}}(a),c=[];return b.h>0&&c.push(b.h),c.push(b.m<10&&b.h>0?"0"+b.m:b.m),c.push(b.s<10?"0"+b.s:b.s),c.join(".")},f=function(a){return a.sort(function(){return 1-Math.floor(3*Math.random())}),a},g=!0,h=!1,i=a(document),j=function(){try{g&&window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}catch(a){}},k=h?"sandbox-soundcloud.com":"soundcloud.com",l="https:"===document.location.protocol,m=function(a,b){var c=(l||/^https/i.test(a)?"https":"http")+"://api."+k+"/resolve?url=",d="format=json&consumer_key="+b+"&callback=?";return l&&(a=a.replace(/^http:/,"https:")),/api\./.test(a)?a+"?"+d:c+a+"&"+d},n=function(){var b=function(){var a=!1;try{var b=new Audio;a=b.canPlayType&&/maybe|probably/.test(b.canPlayType("audio/mpeg"))}catch(c){}return a}(),c={onReady:function(){i.trigger("scPlayer:onAudioReady")},onPlay:function(){i.trigger("scPlayer:onMediaPlay")},onPause:function(){i.trigger("scPlayer:onMediaPause")},onEnd:function(){i.trigger("scPlayer:onMediaEnd")},onBuffer:function(a){i.trigger({type:"scPlayer:onMediaBuffering",percent:a})}},d=function(){var b=new Audio,d=function(a){var b=a.target,d=(b.buffered.length&&b.buffered.end(0))/b.duration*100;c.onBuffer(d),b.currentTime===b.duration&&c.onEnd()},e=function(a){var b=a.target,d=(b.buffered.length&&b.buffered.end(0))/b.duration*100;c.onBuffer(d)};return a('<div class="sc-player-engine-container"></div>').appendTo(document.body).append(b),b.addEventListener("play",c.onPlay,!1),b.addEventListener("pause",c.onPause,!1),b.addEventListener("timeupdate",d,!1),b.addEventListener("progress",e,!1),{load:function(a,c){b.pause(),b.src=a.stream_url+(/\?/.test(a.stream_url)?"&":"?")+"consumer_key="+c,b.load(),b.play()},play:function(){b.play()},pause:function(){b.pause()},stop:function(){b.currentTime&&(b.currentTime=0,b.pause())},seek:function(a){b.currentTime=b.duration*a,b.play()},getDuration:function(){return 1e3*b.duration},getPosition:function(){return 1e3*b.currentTime},setVolume:function(a){b.volume=a/100}}},e=function(){var b,d="scPlayerEngine",e=function(b){var c=(l?"https":"http")+"://player."+k+"/player.swf?url="+b+"&amp;enable_api=true&amp;player_type=engine&amp;object_id="+d;return a.browser.msie?'<object height="100%" width="100%" id="'+d+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+c+'"><param name="movie" value="'+c+'" /><param name="allowscriptaccess" value="always" /></object>':'<object height="100%" width="100%" id="'+d+'"><embed allowscriptaccess="always" height="100%" width="100%" src="'+c+'" type="application/x-shockwave-flash" name="'+d+'" /></object>'};return soundcloud.addEventListener("onPlayerReady",function(){b=soundcloud.getPlayer(d),c.onReady()}),soundcloud.addEventListener("onMediaEnd",c.onEnd),soundcloud.addEventListener("onMediaBuffering",function(a,b){c.onBuffer(b.percent)}),soundcloud.addEventListener("onMediaPlay",c.onPlay),soundcloud.addEventListener("onMediaPause",c.onPause),{load:function(c){var d=c.uri;b?b.api_load(d):a('<div class="sc-player-engine-container"></div>').appendTo(document.body).html(e(d))},play:function(){b&&b.api_play()},pause:function(){b&&b.api_pause()},stop:function(){b&&b.api_stop()},seek:function(a){b&&b.api_seekTo(b.api_getTrackDuration()*a)},getDuration:function(){return b&&b.api_getTrackDuration&&1e3*b.api_getTrackDuration()},getPosition:function(){return b&&b.api_getTrackPosition&&1e3*b.api_getTrackPosition()},setVolume:function(a){b&&b.api_setVolume&&b.api_setVolume(a)}}};return b?d():e()}(),o=!1,p=[],q={},r=function(c,d,e){var f=0,g={node:c,tracks:[]},h=function(c){var e=m(c.url,b);a.ajax({dataType:"json",url:e,success:function(b){f+=1,b.tracks?g.tracks=g.tracks.concat(b.tracks):b.duration?(b.permalink_url=c.url,g.tracks.push(b)):b.creator?d.push({url:b.uri+"/tracks"}):b.username?d.push(/favorites/.test(c.url)?{url:b.uri+"/favorites"}:{url:b.uri+"/tracks"}):a.isArray(b)&&(g.tracks=g.tracks.concat(b)),d[f]?h(d[f]):g.node.trigger({type:"onTrackDataLoaded",playerObj:g,url:e})},error:function(){g.node.trigger({type:"onTrackDataFailed",playerObj:g,url:e})}})};b=e,p.push(g),h(d[f])},s=function(a,b){return b?'<div class="sc-loading-artwork">Loading Artwork</div>':a.artwork_url?'<img src="'+a.artwork_url.replace("-large","-t300x300")+'"/>':'<div class="sc-no-artwork">No Artwork</div>'},t=function(b,c){a(".sc-info",b).each(function(){a("h3",this).html('<a href="'+c.permalink_url+'">'+c.title+"</a>"),a("h4",this).html('by <a href="'+c.user.permalink_url+'">'+c.user.username+"</a>"),a("p",this).html(c.description||"no Description")}),a(".sc-artwork-list li",b).each(function(){var b=a(this),d=b.data("sc-track");d===c?b.addClass("active").find(".sc-loading-artwork").each(function(){a(this).removeClass("sc-loading-artwork").html(s(c,!1))}):b.removeClass("active")}),a(".sc-duration",b).html(e(c.duration)),a(".sc-waveform-container",b).html('<img src="'+c.waveform_url+'" />'),b.trigger("onPlayerTrackSwitch.scPlayer",[c])},u=function(a){var d=a.permalink_url;c===d?n.play():(c=d,n.load(a,b))},v=function(b){return p[a(b).data("sc-player").id]},w=function(b,c){c&&a("div.sc-player.playing").removeClass("playing"),a(b).toggleClass("playing",c).trigger(c?"onPlayerPlay":"onPlayerPause")},x=function(b,c){var d=v(b).tracks[c||0];t(b,d),q={$buffer:a(".sc-buffer",b),$played:a(".sc-played",b),position:a(".sc-position",b)[0]},w(b,!0),u(d)},y=function(a){w(a,!1),n.pause()},z=function(){var a=q.$played.closest(".sc-player");q.$played.css("width","0%"),q.position.innerHTML=e(0),w(a,!1),n.stop(),a.trigger("onPlayerTrackFinish")},A=function(b,c){n.seek(c),a(b).trigger("onPlayerSeek")},B=function(b){var c=a(b);j("track finished get the next one"),$nextItem=a(".sc-trackslist li.active",c).next("li"),$nextItem.length||($nextItem=c.nextAll("div.sc-player:first").find(".sc-trackslist li.active")),$nextItem.click()},C=function(){var a=80,b=document.cookie.split(";"),c=new RegExp("scPlayer_volume=(\\d+)");for(var d in b)if(c.test(b[d])){a=parseInt(b[d].match(c)[1],10);break}return a}(),D=function(a){var b=Math.floor(a),c=new Date;c.setTime(c.getTime()+31536e6),C=b,document.cookie=["scPlayer_volume=",b,"; expires=",c.toUTCString(),'; path="/"'].join(""),n.setVolume(C)};i.bind("scPlayer:onAudioReady",function(){j("onPlayerReady: audio engine is ready"),n.play(),D(C)}).bind("scPlayer:onMediaPlay",function(){clearInterval(d),d=setInterval(function(){var a=n.getDuration(),b=n.getPosition(),c=b/a;q.$played.css("width",100*c+"%"),q.position.innerHTML=e(b),i.trigger({type:"onMediaTimeUpdate.scPlayer",duration:a,position:b,relative:c})},500)}).bind("scPlayer:onMediaPause",function(){clearInterval(d),d=null}).bind("scPlayer:onVolumeChange",function(a){D(a.volume)}).bind("scPlayer:onMediaEnd",function(){z()}).bind("scPlayer:onMediaBuffering",function(a){q.$buffer.css("width",a.percent+"%")}),a.scPlayer=function(b,c){var d=a.extend({},a.scPlayer.defaults,b),g=p.length,h=c&&a(c),i=h[0].className.replace("sc-player",""),k=d.links||a.map(a("a",h).add(h.filter("a")),function(a){return{url:a.href,title:a.innerHTML}}),l=a('<div class="sc-player loading"></div>').data("sc-player",{id:g}),m=a('<ol class="sc-artwork-list"></ol>').appendTo(l),n=(a('<div class="sc-info"><h3></h3><h4></h4><p></p><a href="#" class="sc-info-close">X</a></div>').appendTo(l),a('<div class="sc-controls"></div>').appendTo(l),a('<ol class="sc-trackslist"><li class="active"><a href="#">Loading&hellip;</a></li></ol>').appendTo(l));return(i||d.customClass)&&l.addClass(i).addClass(d.customClass),l.find(".sc-controls").append('<a href="#previous" class="sc-previous"><svg id="" viewBox="0 0 19 18" style="background-color:#ffffff00" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" x="0px" y="0px" width="19px" height="18px"><path d="M 5.5936 9.0005 C 5.5936 9.4038 6.0137 9.6908 6.0137 9.6908 L 17.69 16.829 C 18.554 17.3801 19.2593 16.9739 19.2593 15.9308 L 19.2593 2.0698 C 19.2593 1.0251 18.556 0.6188 17.69 1.1697 L 6.0137 8.3092 C 6.0137 8.311 5.5936 8.5962 5.5936 8.9994 L 5.5936 9.0005 ZM 0 1.7463 L 0 16.2549 C 0 17.6414 0.9821 18.0667 2.4074 18.0667 C 3.8331 18.0667 4.8151 17.6414 4.8151 16.257 L 4.8151 1.7478 C 4.8151 0.3591 3.8331 -0.0667 2.4074 -0.0667 C 0.9821 -0.0667 0 0.36 0 1.7478 L 0 1.7463 Z" fill="#ffffff"/></svg></a>').append('<a href="#play" class="sc-play"><svg viewBox="0 0 50 50" style="background-color:#ffffff00" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" x="0px" y="0px" width="50px" height="50px"><g><path d="M 25 0 C 11.1924 0 0 11.1924 0 25 C 0 38.8076 11.1924 50 25 50 C 38.8076 50 50 38.8076 50 25 C 50 11.1924 38.8076 0 25 0 ZM 25 45.3125 C 13.7809 45.3125 4.6875 36.2188 4.6875 25 C 4.6875 13.7808 13.7809 4.6875 25 4.6875 C 36.2183 4.6875 45.3125 13.7808 45.3125 25 C 45.3125 36.2188 36.2183 45.3125 25 45.3125 ZM 18.75 14.0625 L 37.5 25 L 18.75 35.9375 L 18.75 14.0625 Z" fill="#ffffff"/></g></svg></a> <a href="#pause" class="sc-pause hidden"><svg viewBox="0 0 50 50" style="background-color:#ffffff00" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" x="0px" y="0px" width="50px" height="50px"><g id="Layer%201"><g><path d="M 25 0 C 11.1924 0 0 11.1924 0 25 C 0 38.8076 11.1924 50 25 50 C 38.8076 50 50 38.8076 50 25 C 50 11.1924 38.8076 0 25 0 ZM 25 45.3125 C 13.7809 45.3125 4.6875 36.2188 4.6875 25 C 4.6875 13.7808 13.7809 4.6875 25 4.6875 C 36.2183 4.6875 45.3125 13.7808 45.3125 25 C 45.3125 36.2188 36.2183 45.3125 25 45.3125 ZM 18.75 35.9375 L 18.75 35.9375 Z" fill="#ffffff"/></g><path d="M 25 48 C 38.2556 48 11.7444 48 25 48 ZM 25 43.7727 C 14.2294 43.7727 35.7695 43.7727 25 43.7727 ZM 16 17 L 22 17 L 22 33.9091 L 16 33.9091 L 16 17 ZM 28 17 L 34 17 L 34 33.9091 L 28 33.9091 L 28 17 Z" fill="#ffffff"/></g></svg></a>').append('<a href="#next" class="sc-next"><svg id="" viewBox="0 0 19 18" style="background-color:#ffffff00" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" x="0px" y="0px" width="19px" height="18px"><path d="M 12.9873 8.3083 L 1.3106 1.1704 C 0.447 0.6206 -0.2592 1.0249 -0.2592 2.0713 L -0.2592 15.9272 C -0.2592 16.9741 0.447 17.3776 1.3106 16.8274 L 12.9873 9.6917 C 12.9873 9.6917 13.4084 9.403 13.4084 9.0015 C 13.4084 8.6001 12.9873 8.3093 12.9873 8.3093 L 12.9873 8.3083 ZM 16.5932 -0.0667 C 15.1679 -0.0667 14.1854 0.36 14.1854 1.7476 L 14.1854 16.2515 C 14.1854 17.6396 15.1679 18.0667 16.5932 18.0667 C 18.0184 18.0667 19 17.6396 19 16.2515 L 19 1.7476 C 19 0.36 18.0184 -0.0667 16.5932 -0.0667 Z" fill="#ffffff"/></svg></a>').end().append('<a href="#info" class="sc-info-toggle">Info</a>').append('<div class="sc-scrubber"></div>').find(".sc-scrubber").append('<div class="sc-volume-slider"><span class="sc-volume-status" style="width:'+C+'%"></span></div>').append('<div class="sc-time-span"><div class="sc-waveform-container"></div><div class="sc-buffer"></div><div class="sc-played"></div></div>').append('<div class="sc-time-indicators"><span class="sc-position"></span> | <span class="sc-duration"></span></div>'),r(l,k,d.apiKey),l.bind("onTrackDataFailed.scPlayer",function(){j("Failed to load tracks"),l.hide()}),l.bind("onTrackDataLoaded.scPlayer",function(b){var c=b.playerObj.tracks;d.randomize&&(c=f(c)),c.length>1&&l.addClass("sc-multitrack"),n.empty(),a.each(c,function(b,c){var f=0===b;a('<li><a href="'+c.permalink_url+'">'+c.title+'</a><span class="sc-track-duration">'+e(c.duration)+"</span></li>").data("sc-track",{id:b}).toggleClass("active",f).appendTo(n),a("<li></li>").append(s(c,b>=d.loadArtworks)).appendTo(m).toggleClass("active",f).data("sc-track",c)}),l.each(function(){a.isFunction(d.beforeRender)&&d.beforeRender.call(this,c)}),a(".sc-duration",l)[0].innerHTML=e(c[0].duration),a(".sc-position",l)[0].innerHTML=e(0),t(l,c[0]),d.continuePlayback&&l.bind("onPlayerTrackFinish",function(){B(l)}),l.removeClass("loading").trigger("onPlayerInit"),d.autoPlay&&!o&&(x(l),o=!0)}),h.each(function(){a(this).replaceWith(l)}),l},a.scPlayer.stopAll=function(){a(".sc-player.playing a.sc-pause").click()},a.scPlayer.destroy=function(){a(".sc-player, .sc-player-engine-container").remove()},a.fn.scPlayer=function(b){return o=!1,this.each(function(){a.scPlayer(b,this)}),this},a.scPlayer.defaults=a.fn.scPlayer.defaults={customClass:null,beforeRender:function(){a(this)},onDomReady:function(){a("a.sc-player, div.sc-player").scPlayer()},autoPlay:!1,continuePlayback:!0,randomize:!1,loadArtworks:5,apiKey:"htuiRd1JP11Ww0X72T1C3g"},i.on("click","a.sc-next",function(){var b=a(this).closest(".sc-player").removeClass("playing").find("ol.sc-trackslist"),c=b.find("li"),d=c.length,e=c.index(b.find("li.active"));return e===d-1?(b.find("li.active").removeClass("active"),c.eq(0).addClass("active")):b.find("li.active").removeClass("active").next().addClass("active"),b.find("li.active").click(),!1}).on("click","a.sc-previous",function(){var b=a(this).closest(".sc-player").removeClass("playing").find("ol.sc-trackslist"),c=b.find("li"),d=c.length,e=c.index(b.find("li.active"));return 0===e?(b.find("li.active").removeClass("active"),c.eq(d-1).addClass("active")):b.find("li.active").removeClass("active").prev().addClass("active"),b.find("li.active").click(),!1}),i.on("click","a.sc-play, a.sc-pause",function(){var b=a(this).closest(".sc-player").find("ol.sc-trackslist");return b.find("li.active").click(),!1}),i.on("click","a.sc-info-toggle, a.sc-info-close",function(){var b=a(this);return b.closest(".sc-player").find(".sc-info").toggleClass("active").end().find("a.sc-info-toggle").toggleClass("active"),!1}),i.on("click",".sc-trackslist li",function(){var b=a(this),c=b.closest(".sc-player"),d=b.data("sc-track").id,e=c.is(":not(.playing)")||b.is(":not(.active)");return e?x(c,d):y(c),b.addClass("active").siblings("li").removeClass("active"),a(".artworks li",c).each(function(b){a(this).toggleClass("active",b===d)}),!1});var E=function(b,c){var d=a(b).closest(".sc-time-span"),e=d.find(".sc-buffer"),f=d.find(".sc-waveform-container img"),g=d.closest(".sc-player"),h=Math.min(e.width(),c-f.offset().left)/f.width();A(g,h)},F=function(a){1===a.targetTouches.length&&(E(a.target,a.targetTouches&&a.targetTouches.length&&a.targetTouches[0].clientX),a.preventDefault())};i.on("click",".sc-time-span",function(a){return E(this,a.pageX),!1}).on("touchstart",".sc-time-span",function(a){this.addEventListener("touchmove",F,!1),a.originalEvent.preventDefault()}).on("touchend",".sc-time-span",function(a){this.removeEventListener("touchmove",F,!1),a.originalEvent.preventDefault()});var G=function(b,c){var d=a(b),e=d.offset().left,f=d.width(),g=function(a){return Math.floor((a-e)/f*100)},h=function(a){i.trigger({type:"scPlayer:onVolumeChange",volume:g(a.pageX)})};d.bind("mousemove.sc-player",h),h(c)},H=function(b){a(b).unbind("mousemove.sc-player")};i.on("mousedown",".sc-volume-slider",function(a){G(this,a)}).on("mouseup",".sc-volume-slider",function(a){H(this,a)}),i.bind("scPlayer:onVolumeChange",function(b){a("span.sc-volume-status").css({width:b.volume+"%"})}),a(function(){a.isFunction(a.scPlayer.defaults.onDomReady)&&a.scPlayer.defaults.onDomReady()})}(jQuery);